# =========================================================
# RootGuard Unbound â€“ Recursive DNSSEC Engine
# Based on official Debian unbound package
# =========================================================

server:

  # -------------------------------------------------------
  # Network Configuration
  # -------------------------------------------------------

  # Listen only on localhost.
  # Exposure is controlled by the orchestrator (Docker/Compose),
  # not by the engine itself.
  interface: 127.0.0.1

  # Internal service port used by RootGuard / AdGuard
  port: 5335


  # -------------------------------------------------------
  # Privacy & Hardening
  # -------------------------------------------------------

  # Do not reveal server identity
  hide-identity: yes

  # Do not reveal unbound version
  hide-version: yes

  # Enable QNAME minimisation (privacy improvement)
  qname-minimisation: yes


  # -------------------------------------------------------
  # DNSSEC Configuration
  # -------------------------------------------------------

  # Automatically maintain DNSSEC trust anchor (RFC5011)
  # This file will be created on first start if it does not exist.
  auto-trust-anchor-file: "/var/lib/unbound/root.key"

  # Root server hints (IANA)
  # Required for full recursive resolution.
  root-hints: "/var/lib/unbound/root.hints"


  # -------------------------------------------------------
  # Access Control
  # -------------------------------------------------------

  # Allow only localhost queries.
  # RootGuard / AdGuard will access via shared network namespace.
  access-control: 127.0.0.1/32 allow


  # -------------------------------------------------------
  # Logging / Debug
  # -------------------------------------------------------

  # Minimal logging (0 = quiet, 1 = basic, 2+ = debug)
  verbosity: 1